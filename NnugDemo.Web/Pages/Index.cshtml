@page
@model NnugDemo.Web.Pages.Index
@using NnugDemo.Web.Components
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{
  Layout = null;
}

<!DOCTYPE html>

<html>
<head>
  <title>NNUG</title>
</head>
<body>
  <div>
    Hello NNUG!
  </div>
  <component type="typeof(App)" render-mode="ServerPrerendered" />

  <script src="_framework/blazor.server.js"></script>

  @*<script>
    // Wait until a 'reload' button appears
    new MutationObserver((mutations, observer) => {
      if (document.querySelector('#components-reconnect-modal h5 a')) {
        // Now every 5 seconds, see if the server appears to be back, and if so, reload
        async function attemptReload() {
          await fetch(''); // Check the server really is back
          location.reload();
        }
        observer.disconnect();
        attemptReload();
        setInterval(attemptReload, 5000);
      }
    }).observe(document.body, { childList: true, subtree: true });
  </script>*@
</body>
</html>
